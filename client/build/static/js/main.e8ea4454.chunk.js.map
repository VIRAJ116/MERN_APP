{"version":3,"sources":["images/memoriesLogo.png","images/memoriesText.png","reducers/auth.js","constants/actionTypes.js","reducers/index.js","reducers/posts.js","api/index.js","actions/posts.js","components/PostDetails/styles.js","components/PostDetails/CommentSection.jsx","components/PostDetails/PostDetails.jsx","components/Navbar/styles.js","components/Navbar/Navbar.js","components/styles.js","components/Pagination.jsx","components/Posts/Post/styles.js","components/Posts/Post/Post.js","components/Posts/styles.js","components/Posts/Posts.js","components/Form/styles.js","components/Form/Form.js","components/Home/styles.js","components/Home/Home.js","components/Auth/icon.js","components/Auth/styles.js","components/Auth/Input.js","actions/auth.js","components/Auth/Auth.js","App.js","index.js"],"names":["module","exports","authReducer","state","authData","action","type","localStorage","setItem","JSON","stringify","data","clear","combineReducers","posts","isLoading","payload","currentPage","numberOfPages","post","map","_id","filter","auth","API","axios","create","baseURL","interceptors","request","use","req","getItem","headers","Authorization","parse","token","fetchPost","id","getUri","fetchPosts","page","get","fetchPostsBySearch","searchQuery","search","tags","likePost","patch","comment","value","updatePost","updatedPost","deletePost","delete","signIn","formData","signUp","i","getPostsBySearch","dispatch","api","console","log","createPost","history","newPost","push","commentPost","comments","makeStyles","theme","media","borderRadius","objectFit","width","maxHeight","card","display","breakpoints","down","flexWrap","flexDirection","section","margin","flex","imageSection","marginLeft","recommendedPosts","loadingPaper","justifyContent","alignItems","padding","height","commentsOuterContainer","commentsInnerContainer","overflowY","marginRight","CommentSection","user","useState","setComment","useDispatch","setComments","classes","useStyles","commentsRef","useRef","handleComment","result","name","newComments","current","scrollIntoView","behavior","className","Typography","gutterBottom","variant","c","key","split","ref","style","TextField","fullWidth","rows","label","multiline","onChange","e","target","Button","marginTop","disabled","length","color","onClick","Post","useSelector","useHistory","useParams","useEffect","getPost","join","Paper","elevation","CircularProgress","size","component","title","tag","to","textDecoration","message","moment","createdAt","fromNow","Divider","src","selectedFile","alt","likes","cursor","openPost","appBar","heading","palette","primary","main","fontSize","fontWeight","image","toolbar","profile","logout","userName","textAlign","brandContainer","purple","getContrastText","deepPurple","backgroundColor","Navbar","setUser","location","useLocation","decode","exp","Date","getTime","AppBar","position","memoriesText","memoriesLogo","Toolbar","Avatar","imageUrl","charAt","Link","ul","Paginate","getPosts","Pagination","count","Number","renderItem","item","PaginationItem","paddingTop","backgroundBlendMode","border","fullHeightCard","overlay","top","left","overlay2","right","grid","details","cardActions","cardAction","setCurrentId","setLikes","userId","googleId","hasLikedPost","find","like","handleLike","Likes","Card","raised","ButtonBase","CardMedia","creator","stopPropagation","CardContent","CardActions","mainContainer","smMargin","spacing","actionDiv","Posts","Grid","container","xs","sm","md","lg","root","paper","form","fileInput","buttonSubmit","marginBottom","Form","currentId","postData","setPostData","handleSubmit","preventDefault","autoComplete","noValidate","onSubmit","multiple","onDone","base64","fulwidth","align","appBarSearch","pagination","gridContainer","Home","query","URLSearchParams","setSearch","setTags","searchPost","trim","Grow","in","Container","maxWidth","justify","items","onKeyPress","keyCode","onAdd","onDelete","tagToDelete","searchButton","icon","viewBox","fill","d","avatar","secondary","submit","googleButton","Input","handleChange","half","autoFocus","handleShowPassword","required","InputProps","endAdornment","InputAdornment","IconButton","initialState","firstName","lastName","email","password","confirmPassword","Auth","showPassword","setShowPassword","isSignup","setIsSigup","setFormData","googleSuccess","res","profileObj","tokenId","error","signup","signin","prevShowPassword","clientId","render","renderProps","startIcon","onSuccess","onFailure","cookiePolicy","prevIsSignup","App","maxidth","path","exact","PostDetails","store","createStore","reducers","compose","applyMiddleware","thunk","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.e8ea4454.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/memoriesLogo.8e9763ff.png\";","module.exports = __webpack_public_path__ + \"static/media/memoriesText.6c7b5ec0.png\";","import { AUTH, LOGOUT } from '../constants/actionTypes';\r\n\r\nconst authReducer = (state = { authData: null}, action) => {\r\n    switch (action.type) {\r\n        case AUTH:\r\n            localStorage.setItem('profile', JSON.stringify({ ...action?.data }));\r\n            return { ...state, authData: action?.data };\r\n        case LOGOUT:\r\n            localStorage.clear();\r\n            return { ...state, authData: null };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport default authReducer;","export const CREATE = 'CREATE';\r\nexport const UPDATE = 'UPDATE';\r\nexport const DELETE = 'DELETE';\r\nexport const FETCH_ALL = 'FETCH_ALL';\r\nexport const FETCH_BY_SEARCH = 'FETCH_BY_SEARCH';\r\nexport const FETCH_POST = 'FETCH_POST';\r\nexport const LIKE = 'LIKE';\r\nexport const COMMENT = 'COMMENT';\r\nexport const END_LOADING = 'END_LOADING';\r\nexport const START_LOADING = 'START_LOADING';\r\n\r\nexport const AUTH = 'AUTH';\r\nexport const LOGOUT = 'LOGOUT';","import { combineReducers } from \"redux\";\r\n\r\nimport posts from './posts';\r\nimport auth from './auth';\r\n\r\n\r\nexport default combineReducers({ posts, auth });","import { FETCH_ALL, FETCH_BY_SEARCH, FETCH_POST, CREATE, UPDATE, DELETE, LIKE, COMMENT } from '../constants/actionTypes';\r\n\r\nexport default (state = { isLoading: true, posts: [] }, action) => {\r\n    switch (action.type) {\r\n      case 'START_LOADING':\r\n        return { ...state, isLoading: true };\r\n      case 'END_LOADING':\r\n        return { ...state, isLoading: false };\r\n      case FETCH_ALL:\r\n        return {\r\n          ...state,\r\n          posts: action.payload.data,\r\n          currentPage: action.payload.currentPage,\r\n          numberOfPages: action.payload.numberOfPages,\r\n        };\r\n      case FETCH_BY_SEARCH:\r\n        return { ...state, posts: action.payload.data };\r\n      case FETCH_POST:\r\n        return { ...state, post: action.payload.post };\r\n      case LIKE:\r\n        return { ...state, posts: state.posts.map((post) => (post._id === action.payload._id ? action.payload : post)) };\r\n      case COMMENT:\r\n        return {...state, posts: state.posts.map((post) => {\r\n          if(post._id === action.payload._id) return action.payload;\r\n          return post;\r\n        }),\r\n      };\r\n      case CREATE:\r\n        return { ...state, posts: [...state.posts, action.payload] };\r\n      case UPDATE:\r\n        return { ...state, posts: state.posts.map((post) => (post._id === action.payload._id ? action.payload : post)) };\r\n      case DELETE:\r\n        return { ...state, posts: state.posts.filter((post) => post._id !== action.payload) };\r\n      default:\r\n        return state;\r\n    }\r\n  };","import axios from 'axios';\r\n\r\nconst API = axios.create({ baseURL: 'https://mern-app-m4az.onrender.com' });\r\n\r\nAPI.interceptors.request.use((req) => {\r\n    if(localStorage.getItem('profile')) {\r\n        req.headers.Authorization = `Bearer ${JSON.parse(localStorage.getItem('profile')).token}`;\r\n    }\r\n    return req;\r\n});\r\n\r\nexport const fetchPost = (id) => API.getUri(`/posts/${id}`);\r\nexport const fetchPosts = (page) => API.get(`/posts?page=${page}`);\r\nexport const fetchPostsBySearch = (searchQuery) => API.get(`/posts/search?searchQuery=${searchQuery.search || 'none'}&tags=${searchQuery.tags}`);\r\nexport const createPost = (newPost) => API.post('/posts', newPost);\r\nexport const likePost = (id) => API.patch(`/posts/${id}/likePost`);\r\nexport const comment = (value, id) => API.post(`/posts/${id}/commentPost`, { value });\r\nexport const updatePost = (id, updatedPost) => API.patch(`/posts/${id}`, updatedPost);\r\nexport const deletePost = (id) => API.delete(`/posts/${id}`);\r\n\r\nexport const signIn = (formData) => API.post('/user/signin', formData);\r\nexport const signUp = (formData) => API.post('/user/signup', formData);\r\n","import { FETCH_ALL, FETCH_POST, FETCH_BY_SEARCH, START_LOADING, END_LOADING, CREATE, UPDATE, DELETE, LIKE, COMMENT } from '../constants/actionTypes';\r\nimport * as api from '../api/index.js';\r\n\r\nexport const getPost = (id) => async (dispatch) => {\r\n    try {\r\n        dispatch({ type: START_LOADING });\r\n\r\n        const { data } = await api.fetchPost(id);\r\n\r\n        dispatch({ type: FETCH_POST, payload: { post: data } });\r\n    } catch (error) {\r\n        console.log(error);\r\n    }\r\n}\r\n\r\nexport const getPosts = (page) => async (dispatch) => {\r\n    try {\r\n      dispatch({ type: START_LOADING });\r\n      const { data: { data, currentPage, numberOfPages } } = await api.fetchPosts(page);\r\n  \r\n      dispatch({ type: FETCH_ALL, payload: { data, currentPage, numberOfPages } });\r\n      dispatch({ type: END_LOADING });\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n};\r\n\r\nexport const getPostsBySearch = (searchQuery) => async (dispatch) => {\r\n    try {\r\n        dispatch({ type: START_LOADING });\r\n        const { data: { data } } = await api.fetchPostsBySearch(searchQuery);\r\n\r\n        dispatch({ type: FETCH_BY_SEARCH, payload:{ data } });\r\n        dispatch({ type: END_LOADING });\r\n    } catch (error) {\r\n        console.log(error);\r\n    }\r\n}\r\n\r\nexport const createPost = (post, history) => async (dispatch) => {\r\n    try {\r\n        dispatch({ type: START_LOADING });\r\n        const { data } = await api.createPost(post);\r\n\r\n        dispatch({ type: CREATE, payload: data });\r\n\r\n        history.push(`/posts/${data._id}`);\r\n    } catch (error) {\r\n        console.log(error);\r\n    }\r\n}\r\n\r\nexport const updatePost = (id, post) => async (dispatch) => {\r\n    try {\r\n        const { data } = await api.updatePost(id, post);\r\n\r\n        dispatch({ type: UPDATE, payload: data });\r\n    } catch (error) {\r\n        console.log(error);\r\n    }\r\n}\r\n\r\nexport const likePost = (id) => async (dispatch) => {\r\n    try {\r\n        const { data } = await api.likePost(id);\r\n\r\n        dispatch({ type: LIKE, payload: data });\r\n    } catch (error) {\r\n        console.log(error);\r\n    }\r\n}\r\n\r\nexport const commentPost = (value, id) => async (dispatch) => {\r\n    try {\r\n      const { data } = await api.comment(value, id);\r\n  \r\n      dispatch({ type: COMMENT, payload: data });\r\n  \r\n      return data.comments;\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n}\r\n\r\nexport const deletePost = (id) => async (dispatch) => {\r\n    try {\r\n        await api.deletePost(id);\r\n\r\n        dispatch({ type: DELETE, payload: id });\r\n    } catch (error) {\r\n        console.log(error);\r\n    }\r\n}","import { makeStyles } from '@material-ui/core/styles';\r\n\r\nexport default makeStyles((theme) => ({\r\n  media: {\r\n    borderRadius: '20px',\r\n    objectFit: 'cover',\r\n    width: '100%',\r\n    maxHeight: '600px',\r\n\r\n  },\r\n  card: {\r\n    display: 'flex',\r\n    width: '100%',\r\n    [theme.breakpoints.down('sm')]: {\r\n      flexWrap: 'wrap',\r\n      flexDirection: 'column',\r\n    },\r\n  },\r\n  section: {\r\n    borderRadius: '20px',\r\n    margin: '10px',\r\n    flex: 1,\r\n  },\r\n  imageSection: {\r\n    marginLeft: '20px',\r\n    [theme.breakpoints.down('sm')]: {\r\n      marginLeft: 0,\r\n    },\r\n  },\r\n  recommendedPosts: {\r\n    display: 'flex',\r\n    [theme.breakpoints.down('sm')]: {\r\n      flexDirection: 'column',\r\n    },\r\n  },\r\n  loadingPaper: {\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    padding: '20px',\r\n    borderRadius: '15px',\r\n    height: '39vh',\r\n  },\r\n  commentsOuterContainer: {\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n  },\r\n  commentsInnerContainer: {\r\n    height: '200px',\r\n    overflowY: 'auto',\r\n    marginRight: '30px',\r\n  },\r\n}));","import React, { useState, useRef } from 'react';\r\nimport { Typography, TextField, Button } from '@material-ui/core/';\r\nimport { useDispatch } from 'react-redux';\r\n\r\nimport { commentPost } from '../../actions/posts';\r\nimport useStyles from './styles';\r\n\r\nconst CommentSection = ({ post }) => {\r\n  const user = JSON.parse(localStorage.getItem('profile'));\r\n  const [comment, setComment] = useState('');\r\n  const dispatch = useDispatch();\r\n  const [comments, setComments] = useState(post?.comments);\r\n  const classes = useStyles();\r\n  const commentsRef = useRef();\r\n\r\n  const handleComment = async () => {\r\n    const newComments = await dispatch(commentPost(`${user?.result?.name}: ${comment}`, post._id));\r\n\r\n    setComment('');\r\n    setComments(newComments);\r\n\r\n    commentsRef.current.scrollIntoView({ behavior: 'smooth' });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className={classes.commentsOuterContainer}>\r\n        <div className={classes.commentsInnerContainer}>\r\n          <Typography gutterBottom variant=\"h6\">Comments</Typography>\r\n          {comments?.map((c, i) => (\r\n            <Typography key={i} gutterBottom variant=\"subtitle1\">\r\n              <strong>{c.split(': ')[0]}</strong>\r\n              {c.split(':')[1]}\r\n            </Typography>\r\n          ))}\r\n          <div ref={commentsRef} />\r\n        </div>\r\n        <div style={{ width: '70%' }}>\r\n          <Typography gutterBottom variant=\"h6\">Write a comment</Typography>\r\n          <TextField fullWidth rows={4} variant=\"outlined\" label=\"Comment\" multiline value={comment} onChange={(e) => setComment(e.target.value)} />\r\n          <br />\r\n          <Button style={{ marginTop: '10px' }} fullWidth disabled={!comment.length} color=\"primary\" variant=\"contained\" onClick={handleComment}>\r\n            Comment\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CommentSection;","import React, { useEffect } from 'react';\r\nimport { Paper, Typography, CircularProgress, Divider } from '@material-ui/core/';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport moment from 'moment';\r\nimport { useParams, useHistory, Link } from 'react-router-dom';\r\n\r\nimport { getPost, getPostsBySearch } from '../../actions/posts';\r\nimport CommentSection from './CommentSection';\r\nimport useStyles from './styles';\r\n\r\nconst Post = () => {\r\n  const { post, posts, isLoading } = useSelector((state) => state.posts);\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const classes = useStyles();\r\n  const { id } = useParams();\r\n\r\n  useEffect(() => {\r\n    dispatch(getPost(id));\r\n  }, [dispatch, id]);\r\n\r\n  useEffect(() => {\r\n    if (post) {\r\n      dispatch(getPostsBySearch({ search: 'none', tags: post?.tags.join(',') }));\r\n    }\r\n  }, [dispatch, post]);\r\n\r\n  if (!post) return null;\r\n\r\n  const openPost = (_id) => history.push(`/posts/${_id}`);\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <Paper elevation={6} className={classes.loadingPaper}>\r\n        <CircularProgress size=\"7em\" />\r\n      </Paper>\r\n    );\r\n  }\r\n\r\n  const recommendedPosts = posts.filter(({ _id }) => _id !== post._id);\r\n\r\n  return (\r\n    <Paper style={{ padding: '20px', borderRadius: '15px' }} elevation={6}>\r\n      <div className={classes.card}>\r\n        <div className={classes.section}>\r\n          <Typography variant=\"h3\" component=\"h2\">{post.title}</Typography>\r\n          <Typography gutterBottom variant=\"h6\" color=\"textSecondary\" component=\"h2\">{post.tags.map((tag) => (\r\n            <Link to={`/tags/${tag}`} style={{ textDecoration: 'none', color: '#3f51b5' }}>\r\n              {` #${tag} `}\r\n            </Link>\r\n          ))}\r\n          </Typography>\r\n          <Typography gutterBottom variant=\"body1\" component=\"p\">{post.message}</Typography>\r\n          <Typography variant=\"h6\">\r\n            Created by:\r\n            <Link to={`/creators/${post.name}`} style={{ textDecoration: 'none', color: '#3f51b5' }}>\r\n              {` ${post.name}`}\r\n            </Link>\r\n          </Typography>\r\n          <Typography variant=\"body1\">{moment(post.createdAt).fromNow()}</Typography>\r\n          <Divider style={{ margin: '20px 0' }} />\r\n          <Typography variant=\"body1\"><strong>Realtime Chat - coming soon!</strong></Typography>\r\n          <Divider style={{ margin: '20px 0' }} />\r\n          <CommentSection post={post} />\r\n          <Divider style={{ margin: '20px 0' }} />\r\n        </div>\r\n        <div className={classes.imageSection}>\r\n          <img className={classes.media} src={post.selectedFile} alt={post.title} />\r\n        </div>\r\n      </div>\r\n      {recommendedPosts.length && (\r\n        <div className={classes.section}>\r\n          <Typography gutterBottom variant=\"h5\">You might also like:</Typography>\r\n          <Divider />\r\n          <div className={classes.recommendedPosts}>\r\n            {recommendedPosts.map(({ title, name, message, likes, selectedFile, _id }) => (\r\n              <div style={{ margin: '20px', cursor: 'pointer' }} onClick={() => openPost(_id)} key={_id}>\r\n                <Typography gutterBottom variant=\"h6\">{title}</Typography>\r\n                <Typography gutterBottom variant=\"subtitle2\">{name}</Typography>\r\n                <Typography gutterBottom variant=\"subtitle2\">{message}</Typography>\r\n                <Typography gutterBottom variant=\"subtitle1\">Likes: {likes.length}</Typography>\r\n                <img src={selectedFile} alt=\"data is not available\" width=\"200px\" />\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </Paper>\r\n  );\r\n};\r\n\r\nexport default Post;\r\n","import { makeStyles } from '@material-ui/core/styles';\r\nimport { deepPurple } from '@material-ui/core/colors';\r\n\r\nexport default makeStyles((theme) => ({\r\n  appBar: {\r\n    borderRadius: 15,\r\n    margin: '30px 0',\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    padding: '10px 50px',\r\n    [theme.breakpoints.down('sm')]: {\r\n      flexDirection: 'column',\r\n    },\r\n  },\r\n  heading: {\r\n    color: theme.palette.primary.main,\r\n    textDecoration: 'none',\r\n    fontSize: '2em',\r\n    fontWeight: 300,\r\n  },\r\n  image: {\r\n    marginLeft: '10px',\r\n    marginTop: '5px',\r\n  },\r\n  toolbar: {\r\n    display: 'flex',\r\n    justifyContent: 'flex-end',\r\n    width: '400px',\r\n    [theme.breakpoints.down('sm')]: {\r\n      width: 'auto',\r\n    },\r\n  },\r\n  profile: {\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n    width: '400px',\r\n    alignItems: 'center',\r\n    [theme.breakpoints.down('sm')]: {\r\n      width: 'auto',\r\n      marginTop: 20,\r\n      justifyContent: 'center',\r\n    },\r\n  },\r\n  logout: {\r\n    marginLeft: '20px',\r\n  },\r\n  userName: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    textAlign: 'center',\r\n  },\r\n  brandContainer: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n  },\r\n  purple: {\r\n    color: theme.palette.getContrastText(deepPurple[500]),\r\n    backgroundColor: deepPurple[500],\r\n  },\r\n}));","import React, { useState, useEffect } from 'react';\r\nimport { Link, useHistory, useLocation } from 'react-router-dom';\r\nimport { AppBar, Avatar, Typography, Toolbar, Button } from '@material-ui/core';\r\nimport { useDispatch } from 'react-redux';\r\nimport decode from 'jwt-decode';\r\n\r\nimport useStyles from './styles';\r\nimport memoriesLogo from '../../images/memoriesLogo.png';\r\nimport memoriesText from '../../images/memoriesText.png';\r\n\r\nconst Navbar = () => {\r\n    const classes = useStyles();\r\n    const [user, setUser] = useState(JSON.parse(localStorage.getItem('profile')));\r\n    const dispatch = useDispatch();\r\n    const history = useHistory();\r\n    const location = useLocation();\r\n\r\n    const logout = () => {\r\n        dispatch({ type: 'LOGOUT' });\r\n        history.push('/');\r\n        setUser(null);\r\n    };\r\n\r\n    useEffect(() => {\r\n        const token = user?.token;\r\n\r\n        if(token){\r\n            const decodedToken = decode(token);\r\n\r\n            if(decodedToken.exp * 1000 < new Date().getTime()) logout();\r\n        }\r\n\r\n        setUser(JSON.parse(localStorage.getItem('profile')));\r\n    }, [location]);\r\n\r\n  return (\r\n    <AppBar className={classes.appBar} position=\"static\" color=\"inherit\">\r\n        <Link to=\"/\" className={classes.brandContainer}>\r\n        <img src={memoriesText} alt=\"icon\" height=\"45px\" />\r\n        <img className={classes.image} src={memoriesLogo} alt=\"icon\" height=\"40px\" />\r\n        </Link>\r\n        <Toolbar className={classes.toolbar}>\r\n            {user ? ( \r\n                <div className={classes.toolbar}>\r\n                    <Avatar className={classes.purple} alt={user.result.name} src={user.result.imageUrl}>{user.result.name.charAt(0)}</Avatar>\r\n                    <Typography className={classes.userName} variant=\"h6\">{user.result.name}</Typography>\r\n                    <Button variant=\"contained\" className={classes.logout} color=\"secondary\" onClick={logout}>Logout</Button>\r\n                </div>\r\n            ) : ( \r\n                <Button component={Link} to=\"/auth\" variant=\"contained\" color=\"primary\">Sign In</Button>\r\n            )}\r\n        </Toolbar>\r\n    </AppBar>\r\n  );\r\n};\r\n\r\nexport default Navbar\r\n","import { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nexport default makeStyles(() => ({\r\n    ul: {\r\n        justifyContent: 'space-around',\r\n    },\r\n}));","import React, { useEffect } from \"react\";\r\nimport { Pagination, PaginationItem } from '@material-ui/lab';\r\nimport { Link } from 'react-router-dom';\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\n\r\nimport { getPosts } from '../actions/posts';\r\n\r\nimport useStyles from './styles';\r\n\r\nconst Paginate = ({ page }) => {\r\n    const { numberOfPages } = useSelector((state) => state.posts);\r\n    const classes = useStyles();\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect (() => {\r\n        if(page) dispatch(getPosts(page));\r\n    }, [dispatch, page]);\r\n\r\n    return (\r\n        <Pagination\r\n            classes={{ ul: classes.ul }}\r\n            count = {numberOfPages}\r\n            page={Number(page) || 1}\r\n            variant=\"outlined\"\r\n            color=\"primary\"\r\n            renderItem={(item) => (\r\n                <PaginationItem {...item} component={Link} to={`/posts?page=${item.page}`} />\r\n            )}\r\n        />\r\n    )\r\n};\r\n\r\nexport default Paginate;","import { makeStyles } from '@material-ui/core/styles';\r\n\r\nexport default makeStyles({\r\n  media: {\r\n    height: 0,\r\n    paddingTop: '56.25%',\r\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\r\n    backgroundBlendMode: 'darken',\r\n  },\r\n  border: {\r\n    border: 'solid',\r\n  },\r\n  fullHeightCard: {\r\n    height: '100%',\r\n  },\r\n  card: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    justifyContent: 'space-between',\r\n    borderRadius: '15px',\r\n    height: '100%',\r\n    position: 'relative',\r\n  },\r\n  overlay: {\r\n    position: 'absolute',\r\n    top: '20px',\r\n    left: '20px',\r\n    color: 'white',\r\n  },\r\n  overlay2: {\r\n    position: 'absolute',\r\n    top: '20px',\r\n    right: '20px',\r\n    color: 'white',\r\n  },\r\n  grid: {\r\n    display: 'flex',\r\n  },\r\n  details: {\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n    margin: '20px',\r\n  },\r\n  title: {\r\n    padding: '0 16px',\r\n  },\r\n  cardActions: {\r\n    padding: '0 16px 8px 16px',\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n  },\r\n  cardAction: {\r\n    display: 'block',\r\n    textAlign: 'initial',\r\n  },\r\n});","import React, { useState } from 'react';\r\nimport { Card, CardActions, CardContent, CardMedia, Button, Typography, ButtonBase } from '@material-ui/core';\r\nimport ThumbUpAltIcon from '@material-ui/icons/ThumbUpAlt';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport MoreHorizIcon from '@material-ui/icons/MoreHoriz';\r\nimport ThumbUpAltOutlined from '@material-ui/icons/ThumbUpAltOutlined';\r\nimport moment from 'moment';\r\nimport { useDispatch } from 'react-redux';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nimport { deletePost, likePost } from '../../../actions/posts';\r\nimport useStyles from './styles';\r\n\r\nconst Post = ({ post, setCurrentId }) => {\r\n    const dispatch = useDispatch();\r\n    const classes = useStyles();\r\n    const history = useHistory();\r\n    const user = JSON.parse(localStorage.getItem('profile'));\r\n    const [likes, setLikes] = useState(post?.likes);\r\n\r\n    const userId = user?.result.googleId || user?.result?._id;\r\n    const hasLikedPost = post.likes.find((like) => like === userId);\r\n\r\n    const handleLike = async () => {\r\n        dispatch(likePost(post._id))\r\n\r\n        if(hasLikedPost) {\r\n            setLikes(post.likes.filter((id) => id !== userId))\r\n        } else {\r\n            setLikes([...post.likes, userId]);\r\n        }\r\n    }\r\n\r\n    const Likes = () => {\r\n        if (likes.length > 0) {\r\n          return likes.find((like) => like === userId)\r\n            ? (\r\n              <><ThumbUpAltIcon fontSize=\"small\" />&nbsp;{likes.length > 2 ? `You and ${likes.length - 1} others` : `${likes.length} like${likes.length > 1 ? 's' : ''}` }</>\r\n            ) : (\r\n              <><ThumbUpAltOutlined fontSize=\"small\" />&nbsp;{likes.length} {likes.length === 1 ? 'Like' : 'Likes'}</>\r\n            );\r\n        }\r\n\r\n        return <><ThumbUpAltOutlined fontSize=\"small\" />&nbsp; Like</>;\r\n    };\r\n\r\n    const openPost = (e) => history.push(`/posts/${post._id}`);\r\n\r\n    return (\r\n        <Card className={classes.card} raised elevation={6}>\r\n            <ButtonBase \r\n                component=\"span\"\r\n                name=\"test\"\r\n                className={classes.cardAction}\r\n                onClick={openPost}>\r\n            <CardMedia className={classes.media} image={post.selectedFile} title={post.title} />\r\n            <div className={classes.overlay}>\r\n                <Typography variant=\"h6\">{post.name}</Typography>\r\n                <Typography variant=\"body2\">{moment(post.creator).fromNow()}</Typography>\r\n            </div>\r\n            {(user?.result?.googleId === post?.creator || user?.result?._id === post?.creator) && (\r\n            <div className={classes.overlay2} name=\"edit\">\r\n                <Button onClick={(e) => { e.stopPropagation(); setCurrentId(post._id); }} style={{ color: 'white' }} size=\"small\">\r\n                 <MoreHorizIcon fontSize=\"default\" />\r\n                </Button>\r\n            </div>\r\n            )}\r\n            <div className={classes.details}>\r\n                <Typography variant=\"body2\" color=\"textSecondary\" component=\"h2\">{post.tags.map((tag) => `#${tag} `)}</Typography>\r\n            </div>\r\n            <Typography className={classes.title} variant=\"h5\" gutterBottom>{post.title}</Typography>\r\n            <CardContent>\r\n                <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">{post.message}</Typography>\r\n            </CardContent>\r\n            </ButtonBase>\r\n            <CardActions className={classes.cardActions}>\r\n                <Button size=\"small\" color=\"primary\" disabled={!user?.result} onClick={handleLike}>\r\n                    <Likes /> \r\n                </Button>\r\n                {(user?.result?.googleId === post?.creator || user?.result?._id === post?.creator) && (\r\n                 <Button size=\"small\" color=\"primary\" onClick={() => dispatch(deletePost(post._id))}>\r\n                    <DeleteIcon fontSize=\"small\" /> &nbsp; Delete\r\n                 </Button>\r\n                )}\r\n                </CardActions>\r\n        </Card>\r\n    );\r\n}\r\n\r\nexport default Post;","import { makeStyles } from '@material-ui/core/styles';\r\n\r\nexport default makeStyles((theme) => ({\r\n  mainContainer: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n  },\r\n  smMargin: {\r\n    margin: theme.spacing(1),\r\n  },\r\n  actionDiv: {\r\n    textAlign: 'center',\r\n  },\r\n}));","import React from 'react';\r\nimport { Grid, CircularProgress } from '@material-ui/core';\r\nimport { useSelector } from 'react-redux';\r\n\r\nimport Post from './Post/Post';\r\nimport useStyles from './styles';\r\n\r\nconst Posts = ({ setCurrentId }) => {\r\n    const {posts, isLoading} = useSelector((state) => state.posts);\r\n    const classes = useStyles();\r\n\r\n    if(!posts.length && !isLoading) return 'No posts found';\r\n    \r\n    return (\r\n        isLoading ? <CircularProgress /> : (\r\n            <Grid className={classes.container} container alignItems=\"stretch\" spacing={3}>\r\n                {posts.map((post) => (\r\n                    <Grid key={post._id} item xs={12} sm={12} md={6} lg={3}>\r\n                        <Post post={post} setCurrentId={setCurrentId} />\r\n                    </Grid>\r\n                ))}\r\n            </Grid>\r\n        )\r\n    );\r\n}\r\n\r\nexport default Posts;","import { makeStyles } from '@material-ui/core/styles';\r\n\r\nexport default makeStyles((theme) => ({\r\n  root: {\r\n    '& .MuiTextField-root': {\r\n      margin: theme.spacing(1),\r\n    },\r\n  },\r\n  paper: {\r\n    padding: theme.spacing(2),\r\n  },\r\n  form: {\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n    justifyContent: 'center',\r\n  },\r\n  fileInput: {\r\n    width: '97%',\r\n    margin: '10px 0',\r\n  },\r\n  buttonSubmit: {\r\n    marginBottom: 10,\r\n  },\r\n}));","import React, { useState, useEffect } from 'react';\r\nimport { TextField, Button, Typography, Paper } from '@material-ui/core';\r\nimport FileBase from 'react-file-base64';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nimport useStyles from './styles';\r\nimport { createPost, updatePost } from '../../actions/posts';\r\n\r\n//GET THE CURRENT ID\r\n\r\nconst Form = ( { currentId, setCurrentId }) => {\r\n    const [postData, setPostData] = useState({ title: '', message: '', tags: '', selectedFile: '' });\r\n    const post = useSelector((state) => (currentId ? state.posts.posts.find((message) => message._id === currentId) : null));\r\n    const classes = useStyles();\r\n    const dispatch = useDispatch();\r\n    const history = useHistory();\r\n\r\n    const user = JSON.parse(localStorage.getItem('profile'));\r\n\r\n    useEffect(() => {\r\n        if(post) setPostData(post);\r\n    }, [post])\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n\r\n        if(currentId === 0) {\r\n            dispatch(createPost({ ...postData, name: user?.result?.name }, history));\r\n        } else{\r\n            dispatch(updatePost(currentId, { ...postData, name: user?.result?.name}));\r\n        }\r\n        clear();\r\n    }\r\n    const clear = () => {\r\n        setCurrentId(null);\r\n        setPostData({ title: '', message: '', tags: '', selectedFile: '' });\r\n    }\r\n\r\n    if(!user?.result?.name) {\r\n        return (\r\n            <Paper className={classes.paper}>\r\n                <Typography variant=\"h6\" align=\"center\">\r\n                    Please Sign In to create your own memories and like other's memories.\r\n                </Typography>\r\n            </Paper>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <Paper className={classes.paper} elevation={6}>\r\n        <form autoComplete='off' noValidate className={`${classes.root} ${classes.form}`} onSubmit={handleSubmit}>\r\n                <Typography variant='h6'>{ currentId ? 'Editing' : 'Creating a Memory' } </Typography>   \r\n                <TextField name=\"title\" variant='outlined' label=\"Title\" fullWidth value={postData.title}onChange={(e) => setPostData({ ...postData, title: e.target.value })}/>\r\n                <TextField name=\"message\" variant='outlined' label=\"Message\" fullWidth value={postData.message}onChange={(e) => setPostData({ ...postData, message: e.target.value })}/>\r\n                <TextField name=\"tags\" variant='outlined' label=\"Tags\" fullWidth value={postData.tags}onChange={(e) => setPostData({ ...postData, tags: e.target.value.split(',') })}/>\r\n                <div className={classes.fileInput}>\r\n                    <FileBase\r\n                        type=\"file\"\r\n                        multiple={false}\r\n                        onDone={({base64}) => setPostData({ ...postData, selectedFile: base64 })} \r\n                    />\r\n                </div>\r\n                <Button className={classes.buttonSubmit} variant=\"contained\" color=\"primary\" size=\"large\" type=\"submit\" fulwidth>Submit</Button>\r\n                <Button variant=\"contained\" color=\"secondary\" size=\"small\" onClick={clear} fulwidth>Clear</Button>\r\n            </form>\r\n        </Paper>\r\n    );\r\n}\r\n\r\nexport default Form;","import { makeStyles } from '@material-ui/core/styles';\r\n\r\nexport default makeStyles((theme) => ({\r\n  appBarSearch: {\r\n    borderRadius: 4,\r\n    marginBottom: '1rem',\r\n    display: 'flex',\r\n    padding: '16px',\r\n  },\r\n  pagination: {\r\n    borderRadius: 4,\r\n    marginTop: '1rem',\r\n    padding: '16px',\r\n  },\r\n  gridContainer: {\r\n    [theme.breakpoints.down('xs')]: {\r\n      flexDirection: 'column-reverse',\r\n    },\r\n  },\r\n}));","import React, { useState } from 'react';\r\nimport { Container, Grow, Grid, Paper, AppBar, TextField, Button } from '@material-ui/core';\r\nimport { useDispatch } from 'react-redux';\r\nimport { useHistory, useLocation } from 'react-router-dom';\r\nimport ChipInput from 'material-ui-chip-input';\r\n\r\nimport { getPostsBySearch } from '../../actions/posts';\r\nimport Pagination from '../Pagination';\r\nimport Posts from '../Posts/Posts';\r\nimport Form from '../Form/Form';\r\n\r\nimport useStyles from './styles';\r\n\r\nfunction useQuery() {\r\n    return new URLSearchParams(useLocation().search);\r\n}\r\n\r\nconst Home = () => {\r\n    const [currentId, setCurrentId] = useState(0);\r\n    const dispatch = useDispatch();\r\n    const query = useQuery();\r\n    const history = useHistory();\r\n    const page = query.get('page') || 1;\r\n    const searchQuery = query.get('searchQuery');\r\n    const classes = useStyles();\r\n    const [search, setSearch] = useState('');\r\n    const [tags, setTags] = useState([]);\r\n\r\n    const handleKeyPress = (e) => {\r\n        if(e.keyCode === 13){\r\n            searchPost();\r\n        }\r\n    }\r\n\r\n    const searchPost = () => {\r\n        if (search.trim() || tags) {\r\n          dispatch(getPostsBySearch({ search, tags: tags.join(',') }));\r\n          history.push(`/posts/search?searchQuery=${search || 'none'}&tags=${tags.join(',')}`);\r\n        } else {\r\n          history.push('/');\r\n        }\r\n    }\r\n\r\n    const handleAdd = (tag) => setTags([...tags, tag]);\r\n\r\n    const handleDelete = (tagToDelete) => setTags(tags.filter((tag) => tag !== tagToDelete));\r\n\r\n  return (\r\n    <Grow in>\r\n                <Container maxWidth=\"xl\">\r\n                    <Grid container justify=\"space-between\" alignItems=\"stretch\" spacing={3} className={classes.gridContainer}>\r\n                        <Grid items xs={12} sm={6} md={9}>\r\n                            <Posts setCurrentId={setCurrentId} />\r\n                        </Grid>\r\n                        <Grid items xs={12} sm={6} md={3}>\r\n                        <AppBar className={classes.appBarSearch} position=\"static\" color=\"inherit\">\r\n                            <TextField \r\n                                name='search' \r\n                                variant='outlined' \r\n                                label=\"search memories\"\r\n                                onKeyPress={handleKeyPress}\r\n                                fullWidth\r\n                                value={search}\r\n                                onChange={(e) => setSearch(e.target.value)}\r\n                            />\r\n                            <ChipInput \r\n                                style={{ margin: '10px 0'}} \r\n                                value={tags}\r\n                                onAdd={handleAdd}\r\n                                onDelete={handleDelete}\r\n                                label=\"Seacrh Tags\"\r\n                                variant='outlined'\r\n                            />\r\n                            <Button onClick={searchPost} className={classes.searchButton} variant=\"contained\" color=\"primary\">Search</Button>\r\n                        </AppBar>\r\n                            <Form currentId={currentId} setCurrentId={setCurrentId} />\r\n                            {(!searchQuery && !tags.length) && (\r\n                                <Paper elevation={6} className={classes.pagination}>\r\n                                    <Pagination page={page}/>\r\n                                </Paper>\r\n                            )}\r\n                        </Grid>\r\n                    </Grid>\r\n                </Container>\r\n            </Grow>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import React from 'react';\r\n\r\nconst icon = () => (\r\n  <svg style={{ width: '20px', height: '20px' }} viewBox=\"0 0 24 24\">\r\n    <path\r\n      fill=\"currentColor\"\r\n      d=\"M21.35,11.1H12.18V13.83H18.69C18.36,17.64 15.19,19.27 12.19,19.27C8.36,19.27 5,16.25 5,12C5,7.9 8.2,4.73 12.2,4.73C15.29,4.73 17.1,6.7 17.1,6.7L19,4.72C19,4.72 16.56,2 12.1,2C6.42,2 2.03,6.8 2.03,12C2.03,17.05 6.16,22 12.25,22C17.6,22 21.5,18.33 21.5,12.91C21.5,11.76 21.35,11.1 21.35,11.1V11.1Z\"\r\n    />\r\n  </svg>\r\n);\r\n\r\nexport default icon;","import { makeStyles } from '@material-ui/core/styles';\r\n\r\nexport default makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    padding: theme.spacing(2),\r\n  },\r\n  root: {\r\n    '& .MuiTextField-root': {\r\n      margin: theme.spacing(1),\r\n    },\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n  googleButton: {\r\n    marginBottom: theme.spacing(2),\r\n  },\r\n}));","import React from 'react'\r\nimport { TextField, Grid, InputAdornment, IconButton } from '@material-ui/core'\r\n\r\nimport Visibility from '@material-ui/icons/Visibility';\r\nimport VisibilityOff from '@material-ui/icons/VisibilityOff';\r\n\r\nconst Input = ({ name, handleChange, label, half, autoFocus, type, handleShowPassword }) => (\r\n    <Grid item xs={12} sm={half ? 6 : 12}>\r\n      <TextField\r\n        name={name}\r\n        onChange={handleChange}\r\n        variant=\"outlined\"\r\n        required\r\n        fullWidth\r\n        label={label}\r\n        autoFocus={autoFocus}\r\n        type={type}\r\n        InputProps={name === 'password' ? {\r\n          endAdornment: (\r\n            <InputAdornment position=\"end\">\r\n              <IconButton onClick={handleShowPassword}>\r\n                {type === 'password' ? <Visibility /> : <VisibilityOff />}\r\n              </IconButton>\r\n            </InputAdornment>\r\n          ),\r\n        } : null}\r\n      />\r\n    </Grid>\r\n  );\r\n  \r\n\r\nexport default Input;\r\n","import { AUTH } from '../constants/actionTypes';\r\nimport * as api from '../api/index.js';\r\n\r\nexport const signin = (formData, history) => async (dispatch) => {\r\n    try {\r\n        const { data } = await api.signIn(formData);    \r\n\r\n        dispatch({ type: AUTH, data });\r\n\r\n        history.push('/');\r\n    } catch (error) {\r\n        console.log(error);\r\n    }\r\n}\r\n\r\nexport const signup = (formData, history) => async (dispatch) => {\r\n    try {\r\n        const { data } = await api.signUp(formData);    \r\n\r\n        dispatch({ type: AUTH, data });\r\n\r\n        history.push('/');\r\n    } catch (error) {\r\n        console.log(error);\r\n    }\r\n}","import React, { useState } from 'react';\r\nimport { Avatar, Button, Paper, Grid, Typography, Container } from '@material-ui/core';\r\nimport { GoogleLogin } from 'react-google-login';\r\nimport { useDispatch } from 'react-redux';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nimport Icon from './icon';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport useStyles from './styles';\r\nimport Input from './Input';\r\nimport { signin, signup } from '../../actions/auth';\r\n\r\nconst initialState = {firstName: '', lastName: '', email: '', password: '', confirmPassword: '' };\r\n\r\nconst Auth = () => {\r\n    const classes = useStyles();\r\n    const [showPassword, setShowPassword] = useState(false);\r\n    const [isSignup, setIsSigup] = useState(false);\r\n    const [formData, setFormData] = useState(initialState);\r\n    const dispatch = useDispatch();\r\n    const history = useHistory();\r\n\r\n    const handleShowPassword = () => setShowPassword((prevShowPassword) => !prevShowPassword);\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        if(isSignup){\r\n            dispatch(signup(formData, history))\r\n        } else {\r\n            dispatch(signin(formData, history))\r\n        }\r\n    };\r\n\r\n    const handleChange = (e) => {\r\n        setFormData({ ...formData, [e.target.name]: e.target.value });\r\n    };\r\n\r\n    const switchMode = () => {\r\n        setIsSigup((prevIsSignup) => !prevIsSignup);\r\n        setShowPassword(false);\r\n    }\r\n\r\n    const googleSuccess = async (res) => {\r\n        const result = res?.profileObj;\r\n        const token = res?.tokenId;\r\n\r\n        try {\r\n            dispatch({ type: 'AUTH', data: { result, token }});\r\n            history.push('/');\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n    };\r\n    // const googleSuccess = async (res) => {\r\n    //     // console.log(res);\r\n    //     const result = jwt_decode(res?.credential);\r\n    //     const token = res?.credential; // ?. does not throw error if obj does not exist it throws undefined\r\n    //     console.log(result);\r\n\r\n    //     try {\r\n    //         dispatch({ type: 'AUTH', data: { result, token }});\r\n    //     } catch (error) {\r\n    //         console.log(error)\r\n    //     }\r\n    // };\r\n    const googleFailure = (error) => {\r\n        console.log(error);\r\n        console.log(\"Google Sign In was unsuccessful. Try again later\");\r\n    }\r\n\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n        <Paper className={classes.paper} elevation={3}>\r\n            <Avatar className={classes.avatar}>\r\n                <LockOutlinedIcon />\r\n            </Avatar>\r\n            <Typography variant=\"h5\">{isSignup ? 'Sign Up' : 'Sign In' }</Typography>\r\n            <form className={classes.form} onSubmit={handleSubmit}>\r\n                <Grid container spacing={2}>\r\n                    { isSignup && (\r\n                            <>\r\n                            <Input name=\"firstName\" label=\"First Name\" handleChange={handleChange} autoFocus half />\r\n                            <Input name=\"lastName\" label=\"Last Name\" handleChange={handleChange} half />\r\n                            </>\r\n                        )}\r\n                         <Input name=\"email\" label=\"Email Address\" handleChange={handleChange} type=\"email\" />\r\n                         <Input name=\"password\" label=\"Password\" handleChange={handleChange} type={showPassword ? 'text' : 'password'} handleShowPassword={handleShowPassword} />\r\n                         { isSignup && <Input name=\"confirmPassword\" label=\"Repeat Password\" handleChange={handleChange} type=\"password\" /> }\r\n                </Grid>\r\n                <Button type=\"submit\" fullWidth variant=\"contained\" color=\"primary\" className={classes.submit}>\r\n                    { isSignup ? 'Sign Up' : 'Sign In' }\r\n                </Button>\r\n                <GoogleLogin\r\n                    clientId='801015881159-llu8mfu43okbkv4hc8ntqjsd5iv4267s.apps.googleusercontent.com'\r\n                    render={(renderProps) => (\r\n                        <Button className={classes.googleButton} \r\n                        color='primary' \r\n                        fullWidth \r\n                        onClick={renderProps.onClick} \r\n                        disabled={renderProps.disabled} \r\n                        startIcon={<Icon />} \r\n                        variant=\"contained\">\r\n                            Google Sign In\r\n                        </Button>\r\n                    )}\r\n                    onSuccess={googleSuccess}\r\n                    onFailure={googleFailure}\r\n                    cookiePolicy=\"single_host_origin\"\r\n                />\r\n                <Grid container justify=\"flex-end\">\r\n                    <Grid item>\r\n                        <Button onClick={switchMode}>\r\n                        { isSignup ? 'Already have an account? Sign in' : \"Don't have an account? Sign Up\" }\r\n                        </Button>\r\n                    </Grid>\r\n                </Grid>\r\n            </form>\r\n        </Paper>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Auth;\r\n","import React from 'react';\r\nimport { Container } from '@material-ui/core';\r\nimport { BrowserRouter, Switch, Route, Redirect } from 'react-router-dom';\r\n\r\nimport PostDetails from './components/PostDetails/PostDetails';\r\nimport Navbar from './components/Navbar/Navbar';\r\nimport Home from './components/Home/Home';\r\nimport Auth from './components/Auth/Auth';\r\n\r\nconst App = () => {\r\n    const user = JSON.parse(localStorage.getItem('profile'));\r\n    return (\r\n        <BrowserRouter>\r\n        <Container maxidth=\"xl\">\r\n            <Navbar />\r\n            <Switch>\r\n                <Route path=\"/\" exact component={() => <Redirect to=\"/posts\" />}/>\r\n                <Route path=\"/posts\" exact component={Home} />\r\n                <Route path=\"/posts/search\" exact component={Home} />\r\n                <Route path=\"/posts/:id\" component={PostDetails} />\r\n                <Route path=\"/auth\" exact component={() => (!user ? <Auth /> : <Redirect to=\"/posts\" />)} />\r\n            </Switch>\r\n        </Container>\r\n        </BrowserRouter>\r\n    );\r\n}\r\n\r\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux'\r\nimport { createStore, applyMiddleware, compose } from 'redux';\r\nimport thunk from 'redux-thunk';\r\n\r\nimport reducers from './reducers';\r\n\r\nimport App from './App';\r\nimport './index.css';\r\n\r\nconst store = createStore(reducers, compose(applyMiddleware(thunk)))\r\n\r\nReactDOM.render(\r\n    <Provider store={store}>\r\n        <App />\r\n    </Provider>,\r\n    document.getElementById('root'));"],"sourceRoot":""}